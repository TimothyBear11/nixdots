# =============================================================================
# WINDOW RULES - TBear Edition
# =============================================================================

# --- 1. Workspace / Tag Assignment ---
# Layout Logic:
# Tags 1-3: Center Monitor (DP-1)
# Tags 4-6: Left Monitor   (DP-2)
# Tags 7-9: Right Monitor  (HDMI-A-1)

# CENTER MONITOR (DP-1)
windowrule=tags:2,appid:^steam$
windowrule=tags:3,appid:^heroic$

# LEFT MONITOR (DP-2)
windowrule=tags:4,appid:^zen.*$
windowrule=tags:5,appid:^kitty$,title:^btop$
windowrule=tags:6,appid:^lm-studio$

# RIGHT MONITOR (HDMI-A-1)
windowrule=tags:7,appid:^spotify$
windowrule=tags:8,appid:^vesktop$
windowrule=tags:9,appid:^signal$


# --- 2. Floating Rules (System Dialogs) ---
windowrule=isfloating:1,appid:xdg-desktop-portal-gtk
windowrule=isfloating:1,appid:xdg-desktop-portal-kde
windowrule=isfloating:1,appid:blueman-manager
windowrule=isfloating:1,appid:nm-connection-editor
windowrule=isfloating:1,appid:org.kde.polkit-kde-authentication-agent-1
windowrule=isfloating:1,appid:python3,title:qxdrag
windowrule=isfloating:1,title:^Open File$
windowrule=isfloating:1,title:^Select Folder$


# --- 3. Sizing & Geometry ---
# Ensures your apps open in a good spot if they are floating
windowrule=width:1200,height:800,appid:xdg-desktop-portal-gtk
windowrule=border_radius:20
windowrule=clip-to-geometry:1


# --- 4. Visual Tweaks ---
# Keep video and terminal clear
windowrule=unfocused_opacity:1.0,focused_opacity:1.0,appid:^mpv$
windowrule=unfocused_opacity:1.0,focused_opacity:1.0,appid:^kitty$
windowrule=unfocused_opacity:1.0,focused_opacity:1.0,appid:^zen.*$


# =============================================================================
# LAYER RULES (For Shells and Bars)
# =============================================================================

# --- DMS (DankMaterialShell) Rules ---
# Ensures your bar and launcher are clean and animated correctly
layerrule=noshadow:1,layer_name:dms-shell
layerrule=noblur:0,layer_name:dms-shell
layerrule=animation_type_open:fade,layer_name:dms-shell
layerrule=animation_type_close:fade,layer_name:dms-shell

# --- Ambience (ambxst) & General Rules ---
layerrule=noshadow:1,layer_name:selection
layerrule=noanim:1,layer_name:hyprpicker
layerrule=noblur:1,layer_name:swaybg

# --- Launcher (DMS/Noctalia) ---
layerrule=animation_type_open:zoom,layer_name:launcher
layerrule=animation_type_close:zoom,layer_name:launcher


# =============================================================================
# MONITOR & TAG RULES (Logic meets Magic)
# =============================================================================

# Ensure these tags use the layouts you specified in config.conf
tagrule=id:1,layout_name:tile
tagrule=id:2,layout_name:tile
tagrule=id:3,layout_name:tile
tagrule=id:4,layout_name:scroller
tagrule=id:5,layout_name:scroller
tagrule=id:6,layout_name:scroller
tagrule=id:7,layout_name:scroller
tagrule=id:8,layout_name:scroller
tagrule=id:9,layout_name:scroller
